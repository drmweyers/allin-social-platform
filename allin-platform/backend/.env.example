# AllIN Platform Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ========================================
# DATABASE CONFIGURATION
# ========================================

# PostgreSQL Database (Required)
DATABASE_URL="postgresql://username:password@localhost:5432/allin_platform?schema=public"
DIRECT_URL="postgresql://username:password@localhost:5432/allin_platform"

# Redis Cache (Optional but recommended for sessions and caching)
REDIS_URL="redis://localhost:6379"
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""

# ========================================
# AUTHENTICATION & SECURITY
# ========================================

# JWT Configuration (Required)
JWT_SECRET="your-super-secure-jwt-secret-at-least-256-bits-long"
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"
SESSION_MAX_AGE="604800000"

# Password Security
BCRYPT_ROUNDS="12"
PASSWORD_MIN_LENGTH="8"

# CORS and Security
CORS_ORIGIN="http://localhost:3000,https://yourdomain.com"
ALLOWED_HOSTS="localhost,yourdomain.com"

# ========================================
# AI SERVICES (Required for AI Support)
# ========================================

# OpenAI (Required for embeddings and AI responses)
OPENAI_API_KEY="sk-your-openai-api-key-here"

# Anthropic Claude (Optional, for enhanced AI capabilities)
ANTHROPIC_API_KEY="sk-ant-api-your-anthropic-key-here"

# AI Configuration
AI_RATE_LIMIT_RPM="60"
AI_DEFAULT_MODEL="gpt-4"

# Vector Database Configuration
VECTOR_DB="pgvector"  # pgvector | sqlite | faiss
RAG_TOP_K="5"  # Default number of chunks to retrieve
MAX_TOKENS="16000"  # Max tokens for context

# ========================================
# SOCIAL MEDIA API KEYS (Optional)
# ========================================

# Facebook/Instagram
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
INSTAGRAM_CLIENT_ID="your-instagram-client-id"
INSTAGRAM_CLIENT_SECRET="your-instagram-client-secret"

# Twitter/X
TWITTER_CLIENT_ID="your-twitter-client-id"
TWITTER_CLIENT_SECRET="your-twitter-client-secret"

# LinkedIn
LINKEDIN_CLIENT_ID="your-linkedin-client-id"
LINKEDIN_CLIENT_SECRET="your-linkedin-client-secret"
LINKEDIN_REDIRECT_URI="http://localhost:3001/api/social/callback/linkedin"

# TikTok
TIKTOK_CLIENT_ID="your-tiktok-client-id"
TIKTOK_CLIENT_SECRET="your-tiktok-client-secret"

# ========================================
# EMAIL SERVICE (Required for notifications)
# ========================================

# Mailgun
MAILGUN_API_KEY="key-your-mailgun-api-key"
MAILGUN_DOMAIN="mg.yourdomain.com"
EMAIL_FROM="noreply@yourdomain.com"
EMAIL_FROM_NAME="AllIN Platform"

# ========================================
# FILE STORAGE & CDN (Optional)
# ========================================

# Cloud Storage
STORAGE_PROVIDER="s3"  # s3 | gcs | azure | local
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="allin-platform-media"

# CDN
CDN_URL="https://cdn.yourdomain.com"
MAX_FILE_SIZE="10485760"  # 10MB in bytes
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,video/mp4"

# ========================================
# APPLICATION SETTINGS
# ========================================

# Environment
NODE_ENV="development"  # development | production | test
PORT="5000"
FRONTEND_URL="http://localhost:3000"

# Features
ENABLE_REGISTRATION="true"
ENABLE_EMAIL_VERIFICATION="true"
ENABLE_SOCIAL_LOGIN="false"
ENABLE_WEBHOOKS="true"
ENABLE_QUEUE_PROCESSING="true"

# AI Support Features
ENABLE_AI_SUPPORT="true"
ENABLE_KB_INGESTION="true"
KB_DOCS_PATH="../docs/ai-knowledgebase"

# ========================================
# MONITORING & LOGGING (Optional)
# ========================================

# Logging
LOG_LEVEL="info"  # debug | info | warn | error
ENABLE_REQUEST_LOGGING="true"

# Error Tracking
SENTRY_DSN=""  # Optional: Sentry error tracking

# Metrics
ENABLE_METRICS="false"
METRICS_INTERVAL="60000"

# ========================================
# DEVELOPMENT SETTINGS
# ========================================

# Development only settings (remove in production)
SKIP_EMAIL_VERIFICATION="false"  # Skip email verification in development
DISABLE_RATE_LIMITING="false"  # Disable rate limiting in development
ENABLE_DEBUG_ROUTES="false"  # Enable debug endpoints

# ========================================
# PRODUCTION SETTINGS
# ========================================

# Production security settings
TRUST_PROXY="false"  # Set to true if behind a load balancer
FORCE_HTTPS="false"  # Force HTTPS redirects
ENABLE_SECURITY_HEADERS="true"

# Performance
CONNECTION_POOL_MAX="10"  # Database connection pool size
REDIS_CONNECTION_POOL_MAX="10"

# ========================================
# FEATURE FLAGS
# ========================================

# Beta Features
ENABLE_ADVANCED_ANALYTICS="false"
ENABLE_COMPETITOR_ANALYSIS="false"
ENABLE_WHITE_LABEL="false"
ENABLE_API_ACCESS="false"

# Regional Compliance
GDPR_COMPLIANCE="false"  # Enable GDPR compliance features
CCPA_COMPLIANCE="false"  # Enable CCPA compliance features